package com.inhelp.view.mainimport android.Manifestimport android.os.Bundleimport backimport clearAllFragmentsimport com.eazypermissions.common.model.PermissionResultimport com.eazypermissions.dsl.PermissionManagerimport com.inhelp.Rimport com.inhelp.base.mvp.BaseMvpActivityimport com.inhelp.base.mvp.BaseMvpViewimport com.inhelp.view.main.main.FragmentMainimport kotlinx.android.synthetic.main.activity_main.*import org.koin.android.ext.android.injectimport replaceclass MainActivity : BaseMvpActivity<MainView, MainPresenter>(), MainView {    override val presenter: MainPresenter by inject()    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        supportFragmentManager.replace(fragment = FragmentMain(), addToBackStack = true)    }    override fun setTitle(title: String) {        txtTitle.text = title    }    override fun backPress() : Boolean {        val backInFragment = (supportFragmentManager.fragments.lastOrNull() as? BaseMvpView)?.backPress() ?: false        if( !backInFragment && !supportFragmentManager.back()){            finishApplication()        }        return true    }    override fun onBackPressed() {        backPress()    }    override fun backToMain() {        supportFragmentManager.clearAllFragments()        supportFragmentManager.replace(fragment = FragmentMain(), addToBackStack = true)    }    override fun onResume() {        super.onResume()    }    override fun finishApplication() {        finish()    }}